<!DOCTYPE html>
<html lang="de">

<head>
    <title>Blättchen Formular</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" charset="utf-8">
    <link rel="stylesheet" href="static/css/bootstrap.min.css">
</head>

<body>
    <header>
    </header>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-7 pt-3 pb-3 d-flex align-items-stretch">
                <div class="card w-100">
                    <div class="card-header">
                        Blättchen Formular
                    </div>
                    <div class="card-body">
                        <form>
                            <div class="form-group">
                                <label for="AmtsblattNR">Amtsblatt Nummer:</label>
                                <input class="form-control" id="AmtsblattNR" placeholder="41 - 2021">
                            </div>
                            <div class="form-group">
                                <label for="Schuelerorchester">Schülerorchester:</label>
                                <textarea class="form-control" id="Schuelerorchester" rows="3"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="Ausbildung">Ausbildung:</label>
                                <textarea class="form-control" id="Ausbildung" rows="4">Die Ausbildung findet zu dem, mit dem Ausbilder vereinbarten Termin statt.  
Alle Infos hierüber und auch über das aktuelle Unterrichts- und Fächerangebot erhalten Sie von unserer Jugendleitung, 
Annette Mieke 0151 – 22278206 oder Vanessa Hartmann 0176 - 94336069.</textarea>
                            </div>
                            <div class="form-group">
                                <label for="Stammorchester">Stammorchester:</label>
                                <textarea class="form-control" id="Stammorchester" rows="3"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="Allgemeines">Allgemeines:</label>
                                <textarea class="form-control" id="Allgemeines" rows="5"></textarea>
                            </div>
                            <button type="button" id="submitBTN" class="btn btn-primary">Formular erstellen</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-lg-5 pt-3">
                <div class="card w-100">
                    <div class="card-header">
                        Erklärung
                    </div>
                    <div class="card-body">
                        <h5>Formular:</h5>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                <h6 class="card-title">
                                    Überschriften
                                </h6>
                                <p>
                                    Überschriften werden mit <b>&lt;h6&gt;</b> gekennzeichnet. </br>
                                    Beispiel: &lt;h6&gt;Überschrift&lt;/h6&gt;
                                </p>
                            </li>
                            <li class="list-group-item">
                                <h6 class="card-title">
                                    Zeilenumbruch
                                </h6>
                                <p>
                                    <b>&lt;br&gt;</b> entspricht eineim Zeilenumbruch
                                </p>
                            </li>
                        </ul>
                        <h5>Code Benutzen:</h5>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                Der Code muss in die Datei blaettchen.html eingefügt werden unter der Zeile <br>
                                &lt;div class="container"&gt; <br>
                                (Ist aktuell Zeile 65)
                            </li>
                            <li class="list-group-item">
                                Anschließend muss der Code im Texteditor formatiert werden: <br>
                                Windows: Shift + Alt + F <br>
                                Mac: Shift + Option + F
                            </li>
                            <li class="list-group-item">
                                Nun das Dokument speichern und pushen.
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 pt-3 pb-3 d-flex align-items-stretch">
                <div class="card w-100">
                    <div class="card-header">
                        Generierter Code
                    </div>
                    <div class="card-body">
                        <pre id="output"></pre>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <script>

    </script>
    <script src="static/js/jquery-3.5.1.min.js"></script>
    <script>
        $("#submitBTN").click(function () {
            var data = EvaluateForm()
            var output = ApplyTemplate(template, data)
            output = output.replace("&lt;", "<", -1)
            output = output.replace("&gt;", ">", -1)
            $("#output").text(output)
        })

        function EvaluateForm() {
            var data = {
                AmtsblattNR: $("#AmtsblattNR").val(),
                Schuelerorchester: $("#Schuelerorchester").val(),
                Ausbildung: $("#Ausbildung").val(),
                Stammorchester: $("#Stammorchester").val(),
                Allgemeines: $("#Allgemeines").val()
            };
            return data
        }
        function ApplyTemplate(template, properties) {
            var returnValue = "";

            var templateFragments = template.split("{{");

            returnValue += templateFragments[0];
            for (var i = 1; i < templateFragments.length; i++) {
                var fragmentSections = templateFragments[i].split("}}", 2);
                returnValue += properties[fragmentSections[0]];
                returnValue += fragmentSections[1];
            }
            return returnValue;
        }

        var template = `  <div class="row pb-3 justify-content-center">
            <div class="col-lg-8 pt-3 d-flex align-items-stretch">
                <div class="card w-100">
                    <div class="card-header">
                        Amtsblatt: {{AmtsblattNR}}
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                <h5 class="card-title">
                                    Schülerorchester:
                                </h5>
                                <p>
                                    {{Schuelerorchester}}
                                </p>
                            </li>
                            <li class="list-group-item">
                                <h5 class="card-title">
                                    Ausbildung:
                                </h5>
                                <p>
                                    {{Ausbildung}}
                                </p>
                            </li>
                            <li class="list-group-item">
                                <h5 class="card-title">
                                    Stammorchester:
                                </h5>
                                <p>
                                    {{Stammorchester}}
                                </p>
                            </li>
                            <li class="list-group-item">
                                <h5 class="card-title">
                                    Allgemeines:
                                </h5>
                                <p>
                                    {{Allgemeines}}
                                </p>
                            </li>
                            </ul>
                    </div>
                </div>
            </div>
        </div>
`
    </script>

</body>

</html>